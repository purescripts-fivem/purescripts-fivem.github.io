"use strict";(self.webpackChunkpurescripts_docs=self.webpackChunkpurescripts_docs||[]).push([[5064],{3329:(e,n,r)=>{r.r(n),r.d(n,{assets:()=>c,contentTitle:()=>s,default:()=>u,frontMatter:()=>a,metadata:()=>l,toc:()=>o});var t=r(4848),i=r(8453);const a={sidebar_position:5},s="jl-multicharacter",l={id:"clothing/Multicharacter Installation/jl-multicharacter",title:"jl-multicharacter",description:"\x3c!-- Add Markdown or React files to src/pages to create a standalone page:",source:"@site/docs/clothing/Multicharacter Installation/jl-multicharacter.md",sourceDirName:"clothing/Multicharacter Installation",slug:"/clothing/Multicharacter Installation/jl-multicharacter",permalink:"/clothing/Multicharacter Installation/jl-multicharacter",draft:!1,unlisted:!1,tags:[],version:"current",sidebarPosition:5,frontMatter:{sidebar_position:5},sidebar:"defaultSidebar",previous:{title:"esx/esx_multicharacter",permalink:"/clothing/Multicharacter Installation/esx-multicharacter"},next:{title:"esx-clothing",permalink:"/clothing/Outfit Migration/esx-outfitmigration"}},c={},o=[{value:"Client",id:"client",level:2},{value:"Server",id:"server",level:2}];function d(e){const n={code:"code",h1:"h1",h2:"h2",p:"p",pre:"pre",...(0,i.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.h1,{id:"jl-multicharacter",children:"jl-multicharacter"}),"\n",(0,t.jsx)(n.h2,{id:"client",children:"Client"}),"\n",(0,t.jsxs)(n.p,{children:["Goto around line 70 @ ",(0,t.jsx)(n.code,{children:"jl-multicharacter/client/client.lua"}),":"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-jsx",metastring:'title="jl-multicharacter/client/client.lua"',children:"Replace this:\r\n\r\nspawnedPeds[i] = CreatePed(\r\n  1,\r\n  model,\r\n  coords.x,\r\n  coords.y,\r\n  coords.z - 1.0,\r\n  Config.Locations[i].location.w,\r\n  false,\r\n  false\r\n);\r\nTriggerEvent(\r\n  Config.Scripts['loadplayerclothing'],\r\n  spawnedPeds[i],\r\n  json.decode(SkinLoaded[i].skin)\r\n);\r\n\r\nWith this:\r\n\r\nspawnedPeds[i] = CreatePed(\r\n  1,\r\n  model,\r\n  coords.x,\r\n  coords.y,\r\n  coords.z - 1.0,\r\n  Config.Locations[i].location.w,\r\n  false,\r\n  false\r\n);\r\nexports['pure-character']:initiateApperanceWithPed(spawnedPeds[i], SkinLoaded[i].skin)\n"})}),"\n",(0,t.jsx)(n.h2,{id:"server",children:"Server"}),"\n",(0,t.jsxs)(n.p,{children:["Goto around line 111 @ ",(0,t.jsx)(n.code,{children:"jl-multicharacter/server/server.lua"}),":"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-jsx",metastring:'title="jl-multicharacter/server/server.lua"',children:"Replace this:\r\n\r\nlocal result = MySQL.query.await('SELECT * FROM charskin WHERE playerid = ? ', { data[i].citizenid })\r\nif Config.UseFivemAppearance then\r\n    if result[1] ~= nil then\r\n        resSkin[i] = {\r\n            data = json.decode(result[1].skin),\r\n            cid = data[i].cid\r\n            }\r\n        else\r\n            resSkin[i] = {\r\n                data = nil,\r\n                cid = data[i].cid\r\n            }\r\n        end\r\n    else\r\n        if result[1] ~= nil then\r\n            resSkin[i] = {\r\n                skin = result[1].playerskin,\r\n                cid = data[i].cid\r\n            }\r\n        else\r\n            resSkin[i] = {\r\n                model = false,\r\n                skin = false,\r\n                cid = data[i].cid\r\n            }\r\n        end\r\n    end\r\nend\r\n\r\nWith this:\r\n\r\nlocal result =  MySQL.single.await('SELECT `faceFeatures`, `clothing`, `hair`, `tattoos`, `model`, `modelHash` FROM clothing_skins WHERE citizenid = ?', {data[i].citizenid})\r\nif not result then\r\n    print('no skin data found')\r\n    resSkin[i] = {\r\n        model = false,\r\n        skin = false,\r\n        cid = data[i].cid\r\n    }\r\nelse\r\n    resSkin[i] = {\r\n        model = result.model,\r\n        modelHash = result.modelHash,\r\n        skin = {\r\n            faceFeatures = json.decode(result['faceFeatures']),\r\n            hair = json.decode(result['hair']),\r\n            clothing = json.decode(result['clothing']),\r\n            tattoos = json.decode(result['tattoos']),\r\n        },\r\n        cid = data[i].cid\r\n    }\r\nend\n"})})]})}function u(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(d,{...e})}):d(e)}},8453:(e,n,r)=>{r.d(n,{R:()=>s,x:()=>l});var t=r(6540);const i={},a=t.createContext(i);function s(e){const n=t.useContext(a);return t.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:s(e.components),t.createElement(a.Provider,{value:n},e.children)}}}]);