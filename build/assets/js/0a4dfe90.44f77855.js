"use strict";(self.webpackChunkpurescripts_docs=self.webpackChunkpurescripts_docs||[]).push([[8174],{2290:(e,r,n)=>{n.r(r),n.d(r,{assets:()=>l,contentTitle:()=>i,default:()=>h,frontMatter:()=>a,metadata:()=>c,toc:()=>d});var t=n(4848),o=n(8453);const a={sidebar_position:1},i="qb-core/qb-multicharacter",c={id:"clothing/Multicharacter Installation/qb-multicharacter",title:"qb-core/qb-multicharacter",description:"Client",source:"@site/docs/clothing/Multicharacter Installation/qb-multicharacter.md",sourceDirName:"clothing/Multicharacter Installation",slug:"/clothing/Multicharacter Installation/qb-multicharacter",permalink:"/clothing/Multicharacter Installation/qb-multicharacter",draft:!1,unlisted:!1,tags:[],version:"current",sidebarPosition:1,frontMatter:{sidebar_position:1},sidebar:"defaultSidebar",previous:{title:"BP Character Migration",permalink:"/clothing/Clothing Migration/bp_character"},next:{title:"esx/esx_multicharacter",permalink:"/clothing/Multicharacter Installation/esx-multicharacter"}},l={},d=[{value:"Client",id:"client",level:2},{value:"Server",id:"server",level:2}];function s(e){const r={code:"code",h1:"h1",h2:"h2",p:"p",pre:"pre",...(0,o.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(r.h1,{id:"qb-coreqb-multicharacter",children:"qb-core/qb-multicharacter"}),"\n",(0,t.jsx)(r.h2,{id:"client",children:"Client"}),"\n",(0,t.jsxs)(r.p,{children:["Goto around line 136 @ ",(0,t.jsx)(r.code,{children:"qb-multicharacter/client/main.lua"})]}),"\n",(0,t.jsxs)(r.p,{children:["And change the entire function 'qb-multicharacter:server",":getSkin","' to:"]}),"\n",(0,t.jsx)(r.pre,{children:(0,t.jsx)(r.code,{className:"language-jsx",metastring:'title="qb-multicharacter/client/main.lua"',children:'QBCore.Functions.TriggerCallback(\'qb-multicharacter:server:getSkin\', function(faceFeatures, hair, clothing, tattoos, model)\r\n    model = model ~= nil and tonumber(model) or false\r\n    if model ~= nil then\r\n        CreateThread(function()\r\n        RequestModel(model)\r\n        while not HasModelLoaded(model) do\r\n            Wait(0)\r\n        end\r\n        charPed = CreatePed(2, model, Config.PedCoords.x, Config.PedCoords.y, Config.PedCoords.z - 0.98, Config.PedCoords.w, false, true)\r\n        SetPedComponentVariation(charPed, 0, 0, 0, 2)\r\n        FreezeEntityPosition(charPed, false)\r\n        SetEntityInvincible(charPed, true)\r\n        PlaceObjectOnGroundProperly(charPed)\r\n        SetBlockingOfNonTemporaryEvents(charPed, true)\r\n        exports[\'pure-clothing\']:initiateApperanceWithPed(charPed, {\r\n            faceFeatures = faceFeatures,\r\n            hair = hair,\r\n            clothing = clothing,\r\n            tattoos = tattoos\r\n        })\r\n        end)\r\n    else\r\n        CreateThread(function()\r\n        local randommodels = {\r\n            "mp_m_freemode_01",\r\n            "mp_f_freemode_01",\r\n        }\r\n        model = joaat(randommodels[math.random(1, #randommodels)])\r\n        RequestModel(model)\r\n        while not HasModelLoaded(model) do\r\n            Wait(0)\r\n        end\r\n        charPed = CreatePed(2, model, Config.PedCoords.x, Config.PedCoords.y, Config.PedCoords.z - 0.98, Config.PedCoords.w, false, true)\r\n        SetPedComponentVariation(charPed, 0, 0, 0, 2)\r\n        FreezeEntityPosition(charPed, false)\r\n        SetEntityInvincible(charPed, true)\r\n        PlaceObjectOnGroundProperly(charPed)\r\n        SetBlockingOfNonTemporaryEvents(charPed, true)\r\n        end)\r\n    end\r\n    cb("ok")\r\nend, cData.citizenid)\n'})}),"\n",(0,t.jsx)(r.h2,{id:"server",children:"Server"}),"\n",(0,t.jsxs)(r.p,{children:["Goto around line 188 @ ",(0,t.jsx)(r.code,{children:"qb-multicharacter/server/main.lua"}),":"]}),"\n",(0,t.jsxs)(r.p,{children:["And change the entire function 'qb-multicharacter:server",":getSkin","' to:"]}),"\n",(0,t.jsx)(r.pre,{children:(0,t.jsx)(r.code,{className:"language-jsx",metastring:'title="qb-multicharacter/server/main.lua"',children:"QBCore.Functions.CreateCallback(\"qb-multicharacter:server:getSkin\", function(_, cb, cid)\r\n    local result = MySQL.query.await('SELECT * FROM clothing_skins WHERE citizenid = ?', {cid})\r\n    if result[1] ~= nil then\r\n        cb(json.decode(result[1].faceFeatures), json.decode(result[1].hair), json.decode(result[1].clothing), json.decode(result[1].tattoos), result[1].modelHash)\r\n    else\r\n        cb(nil)\r\n    end\r\nend)\n"})})]})}function h(e={}){const{wrapper:r}={...(0,o.R)(),...e.components};return r?(0,t.jsx)(r,{...e,children:(0,t.jsx)(s,{...e})}):s(e)}},8453:(e,r,n)=>{n.d(r,{R:()=>i,x:()=>c});var t=n(6540);const o={},a=t.createContext(o);function i(e){const r=t.useContext(a);return t.useMemo((function(){return"function"==typeof e?e(r):{...r,...e}}),[r,e])}function c(e){let r;return r=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:i(e.components),t.createElement(a.Provider,{value:r},e.children)}}}]);